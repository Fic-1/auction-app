extends base

block content
    section.landing-auctions
        .container.d-xl-flex.py-4.py-xl-5
            .row.gy-4.row-cols-1.row-cols-md-2.row-cols-xl-3.justify-content-around
                each product in products
                    .col
                        a(href=`/products/${product.id}`) 
                            .card
                                img.card-img-top.w-100.d-block.fit-cover(style='height: 200px;' src=`/background_img/${product.coverImage}` alt=`${product.name}`)
                                .card-body.p-4
                                    h4.card-title #{product.name}
                                    p.card-text #{product.description}
                                    .info-products
                                        .d-flex
                                            img.rounded-circle.flex-shrink-0.me-3.fit-cover(width='50' height='50' src=`/img/${product.seller.photo === 'default.png' ? product.seller.photo : product.seller.photo + '.jpg' }`)
                                            div
                                                p.fw-bold.mb-0= product.seller.name
                                                p.text-muted.mb-0 LOKACIJA - UPDATE MODELA
                                        div(style="border-left:1px solid #000;padding: 5vh 0px 0px 0px")
                                        .d-flex
                                            div
                                                p.fw-bold.mb-0 Remaining:
                                                - const oneDay = 24*60*60*1000
                                                - const oneHour = 60*60*1000
                                                - let remainingStr
                                                - const remainingTime = product.endDate - Date.now()
                                                - if(remainingTime > 0) 
                                                    - const remainingDays = Math.round(Math.abs(remainingTime / oneDay)) 
                                                    - const remainingHours = Math.round(Math.abs(remainingTime / oneHour))
                                                    - remainingStr = `${remainingDays > 1 ? `${remainingDays} days left`: `${remainingHours} day left`}`
                                                    p.text-muted.mb-0= `${remainingStr}`
                                                - if(remainingTime < 0) 
                                                    p.text-muted.mb-0 Auction has ended
                                                